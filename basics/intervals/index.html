
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Island Time - A Kotlin Multiplatform library for working with dates and times">
      
      
        <meta name="author" content="Erik Christensen">
      
      
        <link rel="canonical" href="https://islandtime.io/basics/intervals/">
      
      
        <link rel="prev" href="../durations/">
      
      
        <link rel="next" href="../interop/">
      
      
      <link rel="icon" href="../../assets/images/logo.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Ranges and Intervals - Island Time</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="cyan" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ranges-and-intervals" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Island Time" class="md-header__button md-logo" aria-label="Island Time" data-md-component="logo">
      
  <img src="../../assets/images/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Island Time
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ranges and Intervals
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/erikc5000/island-time" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    island-time
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Island Time" class="md-nav__button md-logo" aria-label="Island Time" data-md-component="logo">
      
  <img src="../../assets/images/logo.svg" alt="logo">

    </a>
    Island Time
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/erikc5000/island-time" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    island-time
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    The Basics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            The Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dates-and-times/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dates and Times
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../durations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Durations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Ranges and Intervals
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Ranges and Intervals
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#terminology-ranges-vs-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Terminology: "Ranges" vs. "Intervals"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#daterange" class="md-nav__link">
    <span class="md-ellipsis">
      DateRange
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#time-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Time Intervals
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Time Intervals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#converting-a-daterange-to-an-interval" class="md-nav__link">
    <span class="md-ellipsis">
      Converting a DateRange to an interval
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iterating-over-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Iterating over intervals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unbounded-and-empty-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Unbounded and Empty Intervals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iso-representation" class="md-nav__link">
    <span class="md-ellipsis">
      ISO Representation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interoperating with Platform Libraries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../formatting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Formatting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parsing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parsing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../serialization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serialization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clocks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clocks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced Topics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Advanced Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/custom-providers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Providers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Extensions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Extensions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extensions/parcelize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parcelize
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    core
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/extensions/parcelize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    parcelize-extensions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#terminology-ranges-vs-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Terminology: "Ranges" vs. "Intervals"
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#daterange" class="md-nav__link">
    <span class="md-ellipsis">
      DateRange
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#time-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Time Intervals
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Time Intervals">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#converting-a-daterange-to-an-interval" class="md-nav__link">
    <span class="md-ellipsis">
      Converting a DateRange to an interval
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iterating-over-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Iterating over intervals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unbounded-and-empty-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Unbounded and Empty Intervals
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iso-representation" class="md-nav__link">
    <span class="md-ellipsis">
      ISO Representation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="ranges-and-intervals">Ranges and Intervals<a class="headerlink" href="#ranges-and-intervals" title="Permalink">&para;</a></h1>
<p>Kotlin offers first class support for ranges and Island Time takes full advantage of that, allowing you to model date ranges and time intervals in a way that feels natural.</p>
<h2 id="terminology-ranges-vs-intervals">Terminology: "Ranges" vs. "Intervals"<a class="headerlink" href="#terminology-ranges-vs-intervals" title="Permalink">&para;</a></h2>
<p>In Island Time, "ranges" are inclusive, implementing Kotlin's <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/-closed-range/"><code>ClosedRange</code></a> interface, while "intervals" are half-open with an exclusive end. When representing time-based intervals, precision differences (ie. millisecond vs. nanosecond) can make an inclusive end troublesome to work with, so while you can create an interval from a closed range, it'll be stored, read, and written with an exclusive end.</p>
<h2 id="daterange"><code>DateRange</code><a class="headerlink" href="#daterange" title="Permalink">&para;</a></h2>
<p>A range of dates can be represented by a <code>DateRange</code>, which is also a <a href="https://kotlinlang.org/docs/reference/ranges.html#progression">progression</a>, allowing you to iterate over each day in the range. Using a custom <code>step</code>, you can iterate with an increment of any number of days, weeks, months, or years. You can also use <code>until</code> and <code>downTo</code> just like you can with Kotlin's built-in types.</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">clock</span><span class="p">:</span><span class="w"> </span><span class="n">Clock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SystemClock</span><span class="p">()</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">today</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">now</span><span class="p">(</span><span class="n">clock</span><span class="p">)</span>

<span class="c1">// Create a date range</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">dateRange</span><span class="p">:</span><span class="w"> </span><span class="n">DateRange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1.</span><span class="n">months</span><span class="p">..</span><span class="na">today</span>

<span class="c1">// Iterate over each day in the range</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">date</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">dateRange</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">startOfDay</span><span class="p">:</span><span class="w"> </span><span class="n">ZonedDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">date</span><span class="p">.</span><span class="na">startOfDayAt</span><span class="p">(</span><span class="n">clock</span><span class="p">.</span><span class="na">zone</span><span class="p">)</span>
<span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">endOfDay</span><span class="p">:</span><span class="w"> </span><span class="n">ZonedDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">date</span><span class="p">.</span><span class="na">endOfDayAt</span><span class="p">(</span><span class="n">clock</span><span class="p">.</span><span class="na">zone</span><span class="p">)</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Step by months instead of days</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">date</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1.</span><span class="n">years</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="m">1.</span><span class="n">months</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>Additional operations are also supported, such as <code>random()</code> and the ability to get the length of the range in terms of whatever unit you'd like.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Pick a random date</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">randomDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">today</span><span class="p">..</span><span class="na">today</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1.</span><span class="n">months</span><span class="p">).</span><span class="na">random</span><span class="p">()</span>

<span class="c1">// Get the total number of days</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">totalDays</span><span class="p">:</span><span class="w"> </span><span class="n">Days</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">today</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">6.</span><span class="n">months</span><span class="p">).</span><span class="na">lengthInDays</span>

<span class="c1">// Get the Period represented by the range</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">period</span><span class="p">:</span><span class="w"> </span><span class="n">Period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">today</span><span class="p">..</span><span class="na">today</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1.</span><span class="n">months</span><span class="p">).</span><span class="na">toPeriod</span><span class="p">()</span>
</code></pre></div>
<h2 id="time-intervals">Time Intervals<a class="headerlink" href="#time-intervals" title="Permalink">&para;</a></h2>
<p>Each of Island Time's <a href="../dates-and-times/">date-time</a> classes has a corresponding interval class.</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Example ISO Representation</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DateTimeInterval</code></td>
<td><code>2020-04-15T10:00/2020-04-15T13:00</code></td>
</tr>
<tr>
<td><code>InstantInterval</code></td>
<td><code>2020-04-15T10:00Z/2020-04-15T13:00Z</code></td>
</tr>
<tr>
<td><code>OffsetDateTimeInterval</code></td>
<td><code>2020-03-09T14:00-05:00/2020-03-10T17:00-04:00</code></td>
</tr>
<tr>
<td><code>ZonedDateTimeInterval</code></td>
<td><code>2020-04-15T10:00-04:00[America/New_York]/2020-04-15T21:30+01:00[Europe/London]</code></td>
</tr>
</tbody>
</table>
<p>For <code>OffsetDateTimeInterval</code> and <code>ZonedDateTimeInterval</code>, inclusivity within a time interval is based on the instants defined by the start and end points, ignoring any local time differences (ie. timeline order, not natural order).</p>
<h3 id="converting-a-daterange-to-an-interval">Converting a <code>DateRange</code> to an interval<a class="headerlink" href="#converting-a-daterange-to-an-interval" title="Permalink">&para;</a></h3>
<p>A <code>DateRange</code> can be converted directly to an interval representing the period from the start of the first day to the end of the last day.</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">today</span><span class="p">:</span><span class="w"> </span><span class="n">Date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Date</span><span class="p">.</span><span class="na">now</span><span class="p">()</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">dateRange</span><span class="p">:</span><span class="w"> </span><span class="n">DateRange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">today</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">1.</span><span class="n">weeks</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">today</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">zone</span><span class="p">:</span><span class="w"> </span><span class="n">TimeZone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TimeZone</span><span class="p">.</span><span class="na">systemDefault</span><span class="p">()</span>

<span class="c1">// Convert to a ZonedDateTimeInterval</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">zonedDateTimeInterval</span><span class="p">:</span><span class="w"> </span><span class="n">ZonedDateTimeInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dateRange</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">zone</span>

<span class="c1">// Convert to an InstantInterval</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">instantInterval</span><span class="p">:</span><span class="w"> </span><span class="n">InstantInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dateRange</span><span class="p">.</span><span class="na">toInstantIntervalAt</span><span class="p">(</span><span class="n">zone</span><span class="p">)</span>
</code></pre></div>
<h3 id="iterating-over-intervals">Iterating over intervals<a class="headerlink" href="#iterating-over-intervals" title="Permalink">&para;</a></h3>
<p>Only <code>InstantInterval</code> allows iteration, though the other interval types can be converted easily enough.</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">now</span><span class="p">:</span><span class="w"> </span><span class="n">ZonedDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ZonedDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">()</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">zonedDateTimeInterval</span><span class="p">:</span><span class="w"> </span><span class="n">ZonedDateTimeInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1.</span><span class="n">weeks</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">instantInterval</span><span class="p">:</span><span class="w"> </span><span class="n">InstantInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">zonedDateTimeInterval</span><span class="p">.</span><span class="na">toInstantInterval</span><span class="p">()</span>
</code></pre></div>
<p>Unlike with date ranges, the <code>step</code> is necessary to create a progression.</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instant</span><span class="p">.</span><span class="na">now</span><span class="p">()</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">then</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1.</span><span class="n">hours</span>

<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">instant</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="m">1.</span><span class="n">seconds</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="unbounded-and-empty-intervals">Unbounded and Empty Intervals<a class="headerlink" href="#unbounded-and-empty-intervals" title="Permalink">&para;</a></h2>
<p>A range or interval may be unbounded on one or both ends &mdash; or empty. The <code>MIN</code> and <code>MAX</code> sentinels can be used to indicate the "far past" or "far future".</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">partiallyBoundedDateRange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;2020-04-12/..&quot;</span><span class="p">.</span><span class="na">toDateRange</span><span class="p">()</span>
<span class="n">assertFalse</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">partiallyBoundedDateRange</span><span class="p">.</span><span class="na">isBounded</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>

<span class="c1">// Most operations are not valid on unbounded ranges</span>
<span class="n">assertFailsWith</span><span class="o">&lt;</span><span class="n">UnsupportedOperationException</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="n">partiallyBoundedDateRange</span><span class="p">.</span><span class="na">lengthInYears</span>
<span class="p">}</span>

<span class="c1">// Range containing every representable date</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">completelyUnbounded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateRange</span><span class="p">.</span><span class="na">UNBOUNDED</span>

<span class="c1">// Range containing no dates</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">emptyDateRange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateRange</span><span class="p">.</span><span class="na">EMPTY</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">"Unbounded" vs. "Open"</p>
<p>In ISO-8601, an "unbounded" interval is referred to as an "open" interval. However, this conflicts with the mathematical meaning of "open" (ie. end points that are exclusive rather than inclusive), so we try to avoid using that terminology.</p>
</div>
<h2 id="iso-representation">ISO Representation<a class="headerlink" href="#iso-representation" title="Permalink">&para;</a></h2>
<p>As with all of the other types in Island Time, calling <code>toString()</code> on an interval will return an ISO represention, which can be converted back to the appropriate interval type using methods like <code>String.toDateRange()</code> or <code>String.toZonedDateTimeInterval()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span><span class="w"> </span><span class="nv">firstDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Date</span><span class="p">(</span><span class="m">2020</span><span class="p">,</span><span class="w"> </span><span class="n">MARCH</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">secondDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Date</span><span class="p">(</span><span class="m">2020</span><span class="p">,</span><span class="w"> </span><span class="n">MAY</span><span class="p">,</span><span class="w"> </span><span class="m">13</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">dateRange</span><span class="p">:</span><span class="w"> </span><span class="n">DateRange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">firstDate</span><span class="p">..</span><span class="na">secondDate</span>

<span class="kd">val</span><span class="w"> </span><span class="nv">isoDateRangeString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dateRange</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span>
<span class="c1">// Output: 2020-03-01/2020-05-13</span>

<span class="kd">val</span><span class="w"> </span><span class="nv">readDateRange</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isoDateRangeString</span><span class="p">.</span><span class="na">toDateRange</span><span class="p">()</span>

<span class="kd">val</span><span class="w"> </span><span class="nv">zone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TimeZone</span><span class="p">(</span><span class="s">&quot;America/New_York&quot;</span><span class="p">)</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">zonedInterval</span><span class="p">:</span><span class="w"> </span><span class="n">ZonedDateTimeInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dateRange</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">zone</span>
<span class="kd">val</span><span class="w"> </span><span class="nv">isoZonedIntervalString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">zonedInterval</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span>
<span class="c1">// Output: 2020-03-01T00:00-05:00[America/New_York]/2020-05-13T23:59:59.999999999-04:00[America/New_York]</span>

<span class="kd">val</span><span class="w"> </span><span class="nv">readZonedInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isoZonedIntervalString</span><span class="p">.</span><span class="na">toZonedDateTimeInterval</span><span class="p">()</span>
</code></pre></div>
<p>By default, Island Time parses only ISO-8601 extended format, but <a href="../parsing/#predefined-parsers">predefined parsers</a> are also available that can read the less common basic format &mdash; or either format.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">

    <div class="md-copyright__highlight">
    Copyright &copy; 2020-2024 Erik Christensen
    </div>


    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
        Material for MkDocs
    </a>
    | Icons made by
    <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a>
    from
    <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>

</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
    
  </body>
</html>